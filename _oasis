Name: osilo
Version: 0.1
Synopsis: Peer to peer secure sharing of personal data
Authors: Matt Harrison <mah93@cam.ac.uk>
License: ISC

Description: Peer to peer secure sharing of personal data
Homepage: https://www.github.com/m-harrison/osilo

OASISFormat: 0.4
BuildTools: ocamlbuild
Plugins: META (0.4), DevFiles (0.4)

Library "osilo"
  Path: src
  Modules: Coding, Cryptography,  Http_client, Http_server,
           Peer,   Serialisation, Silo,        Wm
  BuildDepends: core,       cstruct,          cohttp.lwt,    datakit-client,
                logs,       lwt,              nocrypto.unix, 
                lru,        protocol-9p.unix, sexplib,       uri,
                webmachine, yojson,           threads

Executable "server"
  Path: src
  MainIs: Osilo_server.ml
  CompiledObject: best
  BuildDepends: psq,osilo

Executable "client"
  Path: src
  MainIs: Osilo_client.ml
  CompiledObject: best
  BuildDepends: psq,osilo

Executable osilo_tests
  Path: tests
  MainIs: test_src.ml
  Build$: flag(tests)
  CompiledObject: best
  Install: false
  BuildDepends: alcotest,psq,osilo

Test "osilo_tests"
  Run$: flag(tests)
  Command: $osilo_tests
  WorkingDirectory: tests
